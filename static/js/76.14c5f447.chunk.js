"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[76],{76:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(861),a=n(439),c=n(757),s=n.n(c),o=n(791),u=n(689),i=n(87),l=n(390),h="movies_form__RJxSH",p="movies_headline__SzYQC",v="movies_container__RaY19",f="movies_button__cPv1s",m="movies_input__rHz1z",d="movies_movielist__2TWYq",g="movies_movieContainer__mjoMf",_=n(184);var x=function(){var e=(0,o.useState)(!1),t=(0,a.Z)(e,2),n=t[0],c=t[1],x=(0,u.TH)(),j=(0,i.lr)(),w=(0,a.Z)(j,2),y=w[0],b=w[1],Z=y.get("query");(0,o.useEffect)((function(){Z?(0,l.vw)(Z).then((function(e){c(e)})).catch((function(e){console.error("Error fetching movies:",e)})):c(!1)}),[Z]);var N=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.currentTarget,r=n.elements.searchQuery.value,e.next=5,(0,l.vw)(Z||r);case 5:a=e.sent,c(a),b({query:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,_.jsxs)("div",{className:v,children:[(0,_.jsx)("h1",{className:p,children:"Movies"}),(0,_.jsxs)("form",{className:h,onSubmit:N,children:[(0,_.jsx)("input",{className:m,name:"searchQuery"}),(0,_.jsx)("button",{className:f,children:"Search"})]}),(0,_.jsx)("ul",{className:d,children:n.length>0?n.map((function(e){return(0,_.jsx)("li",{children:(0,_.jsxs)("div",{className:g,children:[(0,_.jsx)("img",{alt:e.original_title,src:"https://image.tmdb.org/t/p/w300".concat(e.poster_path)}),(0,_.jsx)(i.rU,{to:"/movies/".concat(e.id),state:{from:x},children:e.title})]})},e.id)})):null}),0===n.length&&(0,_.jsx)("p",{children:"No results found :("})]})}},390:function(e,t,n){n.d(t,{Bt:function(){return l},TP:function(){return u},d5:function(){return i},vw:function(){return h}});var r=n(861),a=n(757),c=n.n(a),s={Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZjljNGQ1OGI3Nzc5Y2E3ZjU0NzQzOGVjMDY1YTdkMiIsInN1YiI6IjYzYWRlYjM2MWY3NDhiMDBjOGI3NTk3ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.yuBGdZBeGbe4GxiKZv6q5aaLChprjgO_x8cJYcfPPzA",accept:"application/json"};function o(){return(o=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/trending/movie/day?language=en-US",{headers:s});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n.results);case 10:throw e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}t.ZP=function(){return o.apply(this,arguments)};var u=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?language=en-US"),{headers:s});case 3:return n=e.sent,r=n.json(),e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/credits?language=en-US"),{headers:s});case 3:return n=e.sent,r=n.json(),e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?language=en-US&page=1"),{headers:s});case 3:return n=e.sent,r=n.json(),e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();function h(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/search/movie?query=".concat(t,"&include_adult=false&language=en-US&page=1"),{headers:s});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r.results);case 10:throw e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}},861:function(e,t,n){function r(e,t,n,r,a,c,s){try{var o=e[c](s),u=o.value}catch(i){return void n(i)}o.done?t(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,c){var s=e.apply(t,n);function o(e){r(s,a,c,o,u,"next",e)}function u(e){r(s,a,c,o,u,"throw",e)}o(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=76.14c5f447.chunk.js.map